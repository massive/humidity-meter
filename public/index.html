<html>
<head>
  <script src="https://code.jquery.com/jquery-1.10.1.min.js"></script>
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://cdn.firebase.com/js/client/2.3.2/firebase.js"></script>
  <script src="chart.js"></script>
</head>
<body>
  <script type="text/javascript">
  $(function () {
    var ref = new Firebase("https://humidor.firebaseio.com/records");
    ref.orderByKey().on("value", function(data) {
        const model = data.val();
        const keys = Object.keys(model);
        const humidity = keys.map(key => {
          const item = model[key];
          return {x: item.timestamp, y: item.humidity, unit: '%'};
        })
        const temperature = keys.map(key => {
          const item = model[key];
          return {x: item.timestamp, y: item.temp, unit: 'Â°C'};
        })
        plot('#container', temperature, humidity);
    });
  });
  </script>

  <div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
</body>
</html>
